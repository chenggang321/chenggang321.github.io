(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{423:function(s,a,t){s.exports=t.p+"assets/img/yarn-home.2a749f92.png"},424:function(s,a,t){s.exports=t.p+"assets/img/pkg-search.33d7a6ad.jpg"},572:function(s,a,t){"use strict";t.r(a);var n=t(40),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"谈技术选型-如何找到一个高质量-npm-轮子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#谈技术选型-如何找到一个高质量-npm-轮子"}},[s._v("#")]),s._v(" 谈技术选型，如何找到一个高质量 npm 轮子")]),s._v(" "),n("p",[s._v("<npmjs.com> 是 npm 的官方仓库，目前已经有 150+ 万个仓库发布在了 npm，数量巨大也造就了 package 的参差不齐，这里整理了一些 分析 npm package 各个维度的网站 API，方便从代码质量、安全性与维护性多维度来选择一个 package。")]),s._v(" "),n("p",[s._v("工作业务的繁忙、排期的紧急中，开发者很难有时间有精力真的去读源码来改变这件事情，唯一能做的就是多参考几个指标。")]),s._v(" "),n("p",[s._v("很多新入行的同学喜欢搞高仿版的抖音或者美团，这里提供一个新的思路，有兴趣的同学可以基于此搞一个 <npmjs.com> 的高仿版或者加强版。")]),s._v(" "),n("p",[s._v("以下列举了几个网站及其 API，并作备忘:")]),s._v(" "),n("ul",[n("li",[s._v("npmjs.com")]),s._v(" "),n("li",[s._v("npms.io")]),s._v(" "),n("li",[s._v("unpkg.com/js")]),s._v(" "),n("li",[s._v("jspm.dev/skypack.dev/esm.run")]),s._v(" "),n("li",[s._v("bundlephobia.com")]),s._v(" "),n("li",[s._v("yarnpkg.com")])]),s._v(" "),n("h2",{attrs:{id:"_01-npm-官网-npmjs-com"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-npm-官网-npmjs-com"}},[s._v("#")]),s._v(" 01. NPM 官网: npmjs.com")]),s._v(" "),n("ul",[n("li",[s._v("官网: "),n("a",{attrs:{href:"https://npmjs.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://npmjs.com"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("API: "),n("a",{attrs:{href:"https://www.npmjs.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.npmjs.com"),n("OutboundLink")],1),s._v("，发送请求时需要携带请求头 "),n("code",[s._v("x-spiferack:1")])])]),s._v(" "),n("p",[s._v("这是 "),n("code",[s._v("npm")]),s._v(" 的官方网站，由 "),n("code",[s._v("npm")]),s._v(" 公司进行管理，拥有全球最大最多的 npm 仓库。开发者可以在上管理自己的公有 package，由于私有 package 需要付费管理，因此很多厂会搭建 npm 私有服务。")]),s._v(" "),n("p",[s._v("由于在国外，国内 "),n("code",[s._v("npm i")]),s._v(" 的速度有很明显的延迟，因此国内习惯使用淘宝的镜像仓库: "),n("a",{attrs:{href:"https://registry.npm.taobao.org",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://registry.npm.taobao.org"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("这里有 "),n("code",[s._v("npm")]),s._v(" 的官方 API，但不对外提供服务，因此也没有文档，正因如此，第三方客户端请求需要"),n("strong",[s._v("设置代理处理跨域问题")]),s._v("。由于没有官方文档，下边我对它的 API 稍作整理，以备不时之需")]),s._v(" "),n("h3",{attrs:{id:"search-package-list"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#search-package-list"}},[s._v("#")]),s._v(" Search Package List")]),s._v(" "),n("p",[s._v("根据关键词进行搜索")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.npmjs.com/search?q=keywords:front-end&page=0&ranking=optimal'")]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x-spiferack: 1'")]),s._v("\n")])])]),n("blockquote",[n("p",[s._v("注: x-spiferack 是必须的字段")])]),s._v(" "),n("h3",{attrs:{id:"package-info"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#package-info"}},[s._v("#")]),s._v(" Package Info")]),s._v(" "),n("p",[s._v("每一个 package 的详情信息")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://www.npmjs.com/package/ms'")]),s._v(" -H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'x-spiferack: 1'")]),s._v("\n")])])]),n("blockquote",[n("p",[s._v("注: x-spiferack 是必须的字段")])]),s._v(" "),n("p",[s._v("Response 重要字段:")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("downloads")]),s._v(": 每周下载数据")]),s._v(" "),n("li",[n("code",[s._v("readme.data")]),s._v(": 文档")]),s._v(" "),n("li",[n("code",[s._v("packageVersion.devDependencies")])]),s._v(" "),n("li",[n("code",[s._v("packageVersion.dependencies")])]),s._v(" "),n("li",[n("code",[s._v("packageVersion.typings")]),s._v(": 是否支持 TS")]),s._v(" "),n("li",[n("code",[s._v("packument.name")])]),s._v(" "),n("li",[n("code",[s._v("packument.description")])]),s._v(" "),n("li",[n("code",[s._v("packument.homepage")])]),s._v(" "),n("li",[n("code",[s._v("packument.repository")])]),s._v(" "),n("li",[n("code",[s._v("packument.version")])]),s._v(" "),n("li",[n("code",[s._v("packument.versions")]),s._v(": 各个版本及大小")])]),s._v(" "),n("h2",{attrs:{id:"_02-yarn-官网-yarnpkg-com"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02-yarn-官网-yarnpkg-com"}},[s._v("#")]),s._v(" 02. Yarn 官网: yarnpkg.com")]),s._v(" "),n("ul",[n("li",[s._v("官网: "),n("a",{attrs:{href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://yarnpkg.com/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Package: "),n("a",{attrs:{href:"https://yarnpkg.com/package/webpack",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://yarnpkg.com/package/webpack"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("API: "),n("a",{attrs:{href:"https://ofcncog2cu-3.algolianet.com/1/indexes/*/queries",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://ofcncog2cu-3.algolianet.com/1/indexes/*/queries"),n("OutboundLink")],1)])]),s._v(" "),n("p",[n("code",[s._v("yarn")]),s._v(" 是 npm 的可替换工具，也维护了一份仓库，API 的查询使用了 "),n("code",[s._v("Algolia")]),s._v(" 提供搜索服务。npm 包的详情信息比 "),n("code",[s._v("npmjs.com")]),s._v(" 更加翔实与具体，比 "),n("code",[s._v("npmjs.com")]),s._v(" 也拥有更多的指标进行参考:")]),s._v(" "),n("ol",[n("li",[s._v("Security: 查看是否有安全风险")]),s._v(" "),n("li",[s._v("Popularity: 根据 Github 的星星与周下载量查看受欢迎度")]),s._v(" "),n("li",[s._v("Activity: 根据 Commit 情况查看是否活跃")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(423),alt:"yarn"}})]),s._v(" "),n("h2",{attrs:{id:"_03-最好用的-cdn-jsdelivr-com"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03-最好用的-cdn-jsdelivr-com"}},[s._v("#")]),s._v(" 03. 最好用的 CDN: jsdelivr.com")]),s._v(" "),n("p",[n("strong",[n("code",[s._v("Jsdeliver")]),s._v(" 在中国有 CDN 节点！")]),s._v(" "),n("strong",[n("code",[s._v("Jsdeliver")]),s._v(" 在中国有 CDN 节点！")]),s._v(" "),n("strong",[n("code",[s._v("Jsdeliver")]),s._v(" 在中国有 CDN 节点！")])]),s._v(" "),n("h2",{attrs:{id:"_04-snyk-为你的下一个项目挑选最好的轮子"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_04-snyk-为你的下一个项目挑选最好的轮子"}},[s._v("#")]),s._v(" 04. Snyk: 为你的下一个项目挑选最好的轮子")]),s._v(" "),n("ul",[n("li",[s._v("官网: "),n("a",{attrs:{href:"https://snyk.io/advisor/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://snyk.io/advisor/"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("Package: "),n("a",{attrs:{href:"https://snyk.io/advisor/npm-package/webpack",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://snyk.io/advisor/npm-package/webpack"),n("OutboundLink")],1)]),s._v(" "),n("li",[s._v("API: "),n("a",{attrs:{href:"https://snyk.docs.apiary.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://snyk.docs.apiary.io/"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("Snyk 的口号是 "),n("code",[s._v("Find the best package for your next project.")]),s._v("，相比 "),n("code",[s._v("yarn")]),s._v(" 它对于一个 package 有着更细粒度的判定，并且学会了一个重要的事情: 打分。")]),s._v(" "),n("h2",{attrs:{id:"_05-npm-unoffical-api-npms-io"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_05-npm-unoffical-api-npms-io"}},[s._v("#")]),s._v(" 05. NPM Unoffical API: npms.io")]),s._v(" "),n("p",[s._v("该 API 在 "),n("code",[s._v("https://api.npms.io/v<version>")]),s._v(" 下提供服务，当前版本是 v2")]),s._v(" "),n("p",[s._v("由于对官方 API 的不满意，"),n("code",[s._v("npmsio")]),s._v(" 借助 "),n("code",[s._v("ElasticSearch")]),s._v(" 单独整了个 API，并提供更好的搜索体验。")]),s._v(" "),n("h2",{attrs:{id:"_06-unpkg-api-unpkg-com"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_06-unpkg-api-unpkg-com"}},[s._v("#")]),s._v(" 06. UNPKG API: unpkg.com")]),s._v(" "),n("p",[s._v("UNPKG 是一个服务于 NPM 仓库的 CDN，用以快速使用发送请求的方式加载文件。另外，还提供一些基础信息查询的 API")]),s._v(" "),n("p",[s._v("官方文档: "),n("a",{attrs:{href:"https://unpkg.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://unpkg.com/"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:t(424),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"meta"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#meta"}},[s._v("#")]),s._v(" Meta")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://unpkg.com/react@17.0.1/index.js?meta "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" jq\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/index.js"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"contentType"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"application/javascript"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"integrity"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sha384-uYepeL3qyzb/7G5T1fizoxPoKmV6ftFXdz4jeQlBff4HqMuNVJPqiNjvN38BeHUk"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lastModified"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Sat, 26 Oct 1985 08:15:00 GMT"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("190")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h2",{attrs:{id:"_07-bundlephobia-bundlephobia-com"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_07-bundlephobia-bundlephobia-com"}},[s._v("#")]),s._v(" 07. BundlePhobia: bundlephobia.com")]),s._v(" "),n("p",[s._v("用以查询一个 package 的打包体积有多大")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://bundlephobia.com/api/size?package=react@17.0.1'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" jq\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"assets"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gzip"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2908")]),s._v(",\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),s._v(",\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7128")]),s._v(",\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"js"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dependencyCount"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dependencySizes"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"approximateSize"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6320")]),s._v(",\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"approximateSize"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1236")]),s._v(",\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"object-assign"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"React is a JavaScript library for building user interfaces."')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gzip"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2908")]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hasJSModule"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hasJSNext"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hasSideEffects"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"react"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"repository"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/facebook/react.git"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scoped"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7128")]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"17.0.1"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h2",{attrs:{id:"npm-trends"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-trends"}},[s._v("#")]),s._v(" NPM Trends")])])}),[],!1,null,null,null);a.default=e.exports}}]);