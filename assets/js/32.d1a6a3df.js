(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{399:function(s,e,t){s.exports=t.p+"assets/img/sls.0cd7165c.gif"},509:function(s,e,t){"use strict";t.r(e);var a=t(40),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"serverless-framework-初识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serverless-framework-初识"}},[s._v("#")]),s._v(" serverless framework 初识")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("本篇文章有可能已过时，可使用最新的 Serverless Component")])]),s._v(" "),a("p",[a("code",[s._v("serverless")]),s._v(" 是各大云服务商提供出来的一种无服务的计算资源。为什么叫无服务呢，因为如果你使用 "),a("code",[s._v("serverless")]),s._v("，你只需要关注应用层，而无需关心底层基础设施，无需运维。简而言之，"),a("code",[s._v("serverless")]),s._v(" 并不是真的无服务，而是关于有服务的不归你管，云服务商帮你搞定，比如 "),a("code",[s._v("google")]),s._v("，"),a("code",[s._v("aws")]),s._v(" 或者 "),a("code",[s._v("aliyun")]),s._v("。")]),s._v(" "),a("p",[s._v("关注点分离，好呀好，有了 "),a("code",[s._v("serverless")]),s._v(" 以后只需要也只能关心业务了，这也不知是喜是忧。但你也无需过于担心，这是对已有并且成熟的开发模式的挑战，解决痛点有限，因此很多团队对于替换为 "),a("code",[s._v("serverless")]),s._v(" 也动力不足。")]),s._v(" "),a("p",[s._v("但是我仍然建议你学习 "),a("code",[s._v("serverless")]),s._v("，毕竟各大云厂商对于 "),a("code",[s._v("serverless")]),s._v(" 有很多免费额度可以让你薅羊毛，对于个人开发者利好。")]),s._v(" "),a("h2",{attrs:{id:"serverless-framework"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serverless-framework"}},[s._v("#")]),s._v(" serverless framework")]),s._v(" "),a("p",[a("code",[s._v("serverless")]),s._v(" 是基于各大云服务商的产品，每一个云厂商对于 "),a("code",[s._v("serverless")]),s._v(" 都有一套自己的 API。为了能够兼容这些 API，为了让你的代码 "),a("code",[s._v("Write Once, Run Everywhere")]),s._v("，于是 "),a("code",[s._v("serverless framework")]),s._v(" 诞生了。")]),s._v(" "),a("blockquote",[a("p",[s._v("通常认为 serverless = faas + baas，然而 serverless framework 只兼容到了 faas，对于 baas，如各家提供的数据存储服务，要做到兼容还是很难。")])]),s._v(" "),a("h2",{attrs:{id:"快速开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[s._v("#")]),s._v(" 快速开始")]),s._v(" "),a("p",[a("img",{attrs:{src:t(399),alt:"serverless"}})]),s._v(" "),a("p",[a("code",[s._v("serverless framework")]),s._v(" 与腾讯云的函数计算来开始一个 "),a("code",[s._v("hello, world")]),s._v(" 吧")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g serverless\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" hello\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" hello\n\n$ serverless create --template tencent-nodejs --name hello\n\nServerless: Generating boilerplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n_______                             __\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   _   .-----.----.--.--.-----.----"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  .-----.-----.-----.\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("___"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  -__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   _"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  -__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   _"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  -__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("__ --"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("__ --"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("____   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_____"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("___/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_____"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("__"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_____"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_____"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("_____"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             The Serverless Application Framework\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("                           serverless.com, v1.67.0\n-------'\n\nServerless: Successfully generated boilerplate "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" template: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tencent-nodejs"')]),s._v("\n")])])]),a("p",[s._v("此时在 "),a("code",[s._v("hello")]),s._v(" 目录自动生成了关于 "),a("code",[s._v("serverless")]),s._v(" 在腾讯云的 "),a("code",[s._v("hello, world")]),s._v(" 版。由于缺少关于腾讯云的 "),a("code",[s._v("plugin")]),s._v(" 需要首先装包")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i\n")])])]),a("h2",{attrs:{id:"简述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简述"}},[s._v("#")]),s._v(" 简述")]),s._v(" "),a("h2",{attrs:{id:"serverless-yaml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serverless-yaml"}},[s._v("#")]),s._v(" serverless.yaml")]),s._v(" "),a("p",[a("code",[s._v("serverless.yaml")]),s._v(" 是 "),a("code",[s._v("serverless framework")]),s._v(" 的核心，是一个 "),a("code",[s._v("sls")]),s._v(" 服务的资源配置文件。如果把 "),a("code",[s._v("sls")]),s._v(" 等同于 "),a("code",[s._v("faas + baas")]),s._v("，那么 "),a("code",[s._v("faas")]),s._v(" 与 "),a("code",[s._v("baas")]),s._v(" 的配置都在这里。")]),s._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hello\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 云厂商的信息，如 aws/google/aliyun/tencent")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("provider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" tencent\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Nodejs8.9    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Nodejs 版本号")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ~/credentials\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" serverless"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tencent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("scf  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 腾讯云对 sls 的适配")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("functions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hello_world")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 函数名")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("handler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" index.main_handler "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该函数所调用的函数")]),s._v("\n")])])]),a("h3",{attrs:{id:"index-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index-js"}},[s._v("#")]),s._v(" index.js")]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("main_handler")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("callback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[a("code",[s._v("index.js")]),s._v(" 中是 "),a("code",[s._v("faas")]),s._v(" 中的核心，"),a("code",[s._v("function")]),s._v("。在 "),a("code",[s._v("callback")]),s._v(" 中来回调你所需的数据。")]),s._v(" "),a("h2",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("sls deploy")]),s._v(" 打包资源并部署到腾讯云，此时需要你在腾讯云的凭证信息。"),a("strong",[s._v("你可以通过与腾讯云绑定的微信扫码授权")]),s._v("，相比其他厂商需要手动维护凭证信息，还是很方便的。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其中 sls 是 serverless 的简写")]),s._v("\n$ sls deploy\nServerless: Packaging service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nServerless: Excluding development dependencies"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nServerless: Uploading "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" package to cos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sls-cloudfunction-ap-guangzhou"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(". hello-dev-KamjFZ-2020-04-15-21-47-11.zip\nServerless: Uploaded package successful /Users/xiange/Documents/hello/.serverless/hello.zip\nServerless: Creating "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" hello-dev-hello_world\nServerless: Updating code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nServerless: Updating configure"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nServerless: Created "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" hello-dev-hello_world\nServerless: Setting tags "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" hello-dev-hello_world\nServerless: Creating trigger "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" hello-dev-hello_world\nServerless: Deployed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" hello-dev-hello_world successful\nServerless: Service Information\n\nservice: hello\nstage: dev\nregion: ap-guangzhou\nstack: hello-dev\nresources: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nfunctions:   hello_world: hello-dev-hello_world\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果需要部署到生产环境")]),s._v("\n$ sls deploy --stage  production\n")])])]),a("p",[s._v("稍等一分钟，就可以看到部署成功的信息。")]),s._v(" "),a("h2",{attrs:{id:"函数调用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#函数调用"}},[s._v("#")]),s._v(" 函数调用")]),s._v(" "),a("p",[s._v("本地函数可以很简单地通过调用函数名来执行，"),a("code",[s._v("serverless")]),s._v(" 也可以通过 "),a("code",[s._v("sls invoke")]),s._v(" 来调用函数。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ sls invoke --function hello_world\n\nServerless:\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n\n----------\nLog:\nSTART RequestId: 69ffc57f-0afb-471b-865d-c7289e16f2ac\nEvent RequestId: 69ffc57f-0afb-471b-865d-c7289e16f2ac\n\nEND RequestId: 69ffc57f-0afb-471b-865d-c7289e16f2ac\nReport RequestId: 69ffc57f-0afb-471b-865d-c7289e16f2ac Duration:64ms Memory:128MB MemUsage:21.8125MB\n")])])]),a("h2",{attrs:{id:"日志与监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#日志与监控"}},[s._v("#")]),s._v(" 日志与监控")]),s._v(" "),a("p",[a("code",[s._v("serverless")]),s._v(" 号称 "),a("code",[s._v("noops")]),s._v("，很大程度上是由于少了 "),a("code",[s._v("log")]),s._v(" 及 "),a("code",[s._v("metrics")]),s._v(" 的基础设施搭建。使用 "),a("code",[s._v("sls logs")]),s._v(" 与 "),a("code",[s._v("sls metrics")]),s._v(" 可以获取相关信息，但是丰富度及可定制化就完全不如 "),a("code",[s._v("kubernetes")]),s._v(" 运维了。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ sls logs\nServerless: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"FunctionName"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello-dev-hello_world"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RetMsg"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("Hello World"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RequestId"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fc72271f-eede-4dbb-8315-f24045597db7"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"StartTime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-04-15 21:48:55"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RetCode"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"InvokeFinished"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Duration"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BillDuration"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MemUsage"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74870780")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Log"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"START RequestId: fc72271f-eede-4dbb-8315-f24045597db7'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("Event RequestId: fc72271f-eede-4dbb-8315-f24045597db7"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("2020-04-15T13:48:55.344Z"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("fc72271f-eede-4dbb-8315-f24045597db7"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("{}"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("END RequestId: fc72271f-eede-4dbb-8315-f24045597db7"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('Report RequestId: fc72271f-eede-4dbb-8315-f24045597db7 Duration:1ms Memory:128MB MemUsage:71.402344MB"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Level"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Source"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nServerless: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"FunctionName"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello-dev-hello_world"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RetMsg"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("Hello World"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RequestId"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"62b5760e-5545-4316-bef6-423d4b568396"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"StartTime"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-04-15 21:48:45"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RetCode"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"InvokeFinished"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Duration"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BillDuration"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MemUsage"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("74870780")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Log"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"START RequestId: 62b5760e-5545-4316-bef6-423d4b568396'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("Event RequestId: 62b5760e-5545-4316-bef6-423d4b568396"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("2020-04-15T13:48:47.995Z"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("62b5760e-5545-4316-bef6-423d4b568396"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("{}"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("END RequestId: 62b5760e-5545-4316-bef6-423d4b568396"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('Report RequestId: 62b5760e-5545-4316-bef6-423d4b568396 Duration:2ms Memory:128MB MemUsage:71.402344MB"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Level"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Source"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n$ sls metrics\nServerless: Service wide metrics\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-14 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":09:45 - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-04-15 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":09:45\n\nService:\n  Invocations: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n  Outflows: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Errors: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.3")]),s._v(" ms\n\nFunctions:\n  hello-dev-hello_world:\n    Invocations: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n    Outflows: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    Errors: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    Duration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.3")]),s._v(" ms\n")])])]),a("h2",{attrs:{id:"下一步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[s._v("#")]),s._v(" 下一步")]),s._v(" "),a("p",[s._v("从本篇文章，可以大概知道如何在腾讯云初建一个 "),a("code",[s._v("serverless")]),s._v(" 函数，并且知道了如何执行并且调用它，但好像仅仅如此。在日常的技术讨论中，它往往与业务开发结合在一起，在接下来的篇章中，我将介绍")]),s._v(" "),a("ol",[a("li",[s._v("如何使用 "),a("code",[s._v("serverless")]),s._v(" 部署 API Server，如 "),a("code",[s._v("koa")]),s._v("，"),a("code",[s._v("python")]),s._v("，"),a("code",[s._v("go")])]),s._v(" "),a("li",[s._v("如何使用 "),a("code",[s._v("serverless")]),s._v(" 部署纯前端应用，如 "),a("code",[s._v("react")]),s._v("/"),a("code",[s._v("vue")])]),s._v(" "),a("li",[s._v("如何使用 "),a("code",[s._v("serverless")]),s._v(" 部署 SSR 应用，如 "),a("code",[s._v("next")]),s._v("/"),a("code",[s._v("nuxt")])]),s._v(" "),a("li",[s._v("如何使用 "),a("code",[s._v("serverless")]),s._v(" 跑定时任务及爬虫")])])])}),[],!1,null,null,null);e.default=n.exports}}]);