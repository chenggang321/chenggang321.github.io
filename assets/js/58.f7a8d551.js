(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{469:function(t,a,s){"use strict";s.r(a);var r=s(40),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"利用-hash-query-键值对优化网络性能-apq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#利用-hash-query-键值对优化网络性能-apq"}},[t._v("#")]),t._v(" 利用 hash/query 键值对优化网络性能 (APQ)")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("apollo-server")]),t._v(" 中，这种技术叫 "),s("code",[t._v("APQ(Automatic persisted queries)")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hash1'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("{ user { id, phone } }")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hash2'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("{ todos { id, name } }")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://www.apollographql.com/docs/apollo-server/d500b543a6ad2a7d64ed7f190d40bd8c/persistedQueries.newPath.png",alt:"Apollo APQ"}})]),t._v(" "),s("h3",{attrs:{id:"前端-apq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端-apq"}},[t._v("#")]),t._v(" 前端 APQ")]),t._v(" "),s("h3",{attrs:{id:"apq-与-缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apq-与-缓存"}},[t._v("#")]),t._v(" APQ 与 缓存")]),t._v(" "),s("h3",{attrs:{id:"apq-与-service-worker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apq-与-service-worker"}},[t._v("#")]),t._v(" APQ 与 service worker")]),t._v(" "),s("h3",{attrs:{id:"apq-与-cors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apq-与-cors"}},[t._v("#")]),t._v(" APQ 与 cors")])])}),[],!1,null,null,null);a.default=e.exports}}]);